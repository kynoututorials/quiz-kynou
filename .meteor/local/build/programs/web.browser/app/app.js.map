{"version":3,"sources":["meteor://ðŸ’»app/client/components/template.quiz-kynou-form.js","meteor://ðŸ’»app/client/components/template.quiz-kynou.js","meteor://ðŸ’»app/client/components/quiz-kynou-form.js","meteor://ðŸ’»app/client/components/quiz-kynou.js","meteor://ðŸ’»app/client/template.app.body.js","meteor://ðŸ’»app/client/template.login.js","meteor://ðŸ’»app/client/app.js","meteor://ðŸ’»app/client/login.js","meteor://ðŸ’»app/collections/quiz.js"],"names":[],"mappings":"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","file":"/app.js","sourcesContent":["\nTemplate.__checkName(\"formQuiz\");\nTemplate[\"formQuiz\"] = new Template(\"Template.formQuiz\", (function() {\n  var view = this;\n  return HTML.Raw('<form>\\n        <div class=\"question-group\">\\n            <label>Question</label>\\n            <input type=\"text\" name=\"question\" class=\"form-control\" placeholder=\"Your Question\">\\n        </div>\\n\\n        <div class=\"form-group\">\\n            <label>Option #1</label>\\n            <input type=\"text\" name=\"option1\" class=\"form-control\" placeholder=\"Option #1\">\\n        </div>\\n        <div class=\"form-group\">\\n            <label>Option #2</label>\\n            <input type=\"text\" name=\"option2\" class=\"form-control\" placeholder=\"Option #2\">\\n        </div>\\n        <div class=\"form-group\">\\n            <label>Option #3</label>\\n            <input type=\"text\" name=\"option3\" class=\"form-control\" placeholder=\"Option #3\">\\n        </div>\\n\\n        <button type=\"submit\" class=\"btn btn-lg btn-primary btn-block\">Create Quiz</button>\\n    </form>');\n}));\n","\nTemplate.__checkName(\"quiz\");\nTemplate[\"quiz\"] = new Template(\"Template.quiz\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": \"quiz well well-lg\",\n    \"data-id\": function() {\n      return Spacebars.mustache(view.lookup(\"_id\"));\n    }\n  }, \"\\n\\n        \", HTML.H3(Blaze.View(\"lookup:question\", function() {\n    return Spacebars.mustache(view.lookup(\"question\"));\n  })), \"\\n\\n        \", Blaze.Each(function() {\n    return Spacebars.dataMustache(view.lookup(\"indexedArray\"), view.lookup(\"options\"));\n  }, function() {\n    return [ \"\\n        \", HTML.A({\n      href: \"#\",\n      \"class\": \"vote btn btn-primary btn-block\",\n      \"data-id\": function() {\n        return Spacebars.mustache(view.lookup(\"_index\"));\n      }\n    }, \"\\n            \", HTML.SPAN({\n      \"class\": \"votes pull-right\"\n    }, Blaze.View(\"lookup:votes\", function() {\n      return Spacebars.mustache(view.lookup(\"votes\"));\n    })), \"\\n            \", HTML.SPAN({\n      \"class\": \"text\"\n    }, Blaze.View(\"lookup:text\", function() {\n      return Spacebars.mustache(view.lookup(\"text\"));\n    })), \"\\n        \"), \"\\n        \" ];\n  }), \"\\n    \");\n}));\n","Template.formQuiz.events({\r\n    // executed when form is submitted\r\n    'submit form': function (event) {\r\n\r\n        // Prevent multiple submits\r\n        event.preventDefault();\r\n\r\n        // Retrieve data from the form\r\n        var newQuiz = {\r\n            question: event.target.question.value,\r\n            options: [\r\n                { text: event.target.option1.value, votes: 0 },\r\n                { text: event.target.option2.value, votes: 0 },\r\n                { text: event.target.option3.value, votes: 0 }\r\n            ]\r\n        };\r\n\r\n        // Creates a new quiz\r\n        Quiz.insert(newQuiz);\r\n    }\r\n});","Template.quiz.events({\r\n    // click event handler\r\n    'click .vote': function (event) {\r\n\r\n        // prevent multiple clicks\r\n        event.preventDefault();\r\n\r\n        // retrieve id of parent quiz\r\n        var idQuiz = $(event.currentTarget).parent('.quiz').data('id');\r\n        var idVote = $(event.currentTarget).data('id');\r\n\r\n        var voteString = 'options.' + idVote + '.votes';\r\n        var action = {};\r\n        action[voteString] = 1;\r\n\r\n        // increment vote counter\r\n        Quiz.update(\r\n            { _id: idQuiz },\r\n            { $inc: action }\r\n        );\r\n    }\r\n});","\nTemplate.body.addContent((function() {\n  var view = this;\n  return [ HTML.DIV({\n    \"class\": \"container\"\n  }, \"\\n        \", HTML.DIV({\n    \"class\": \"row\"\n  }, \"\\n            \", HTML.DIV({\n    \"class\": \"col-md-6 col-md-offset-3\"\n  }, \"\\n                \", Spacebars.include(view.lookupTemplate(\"login\")), \"\\n                \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"currentUser\"));\n  }, function() {\n    return [ \"\\n                    \", Spacebars.include(view.lookupTemplate(\"formQuiz\")), \"\\n                \" ];\n  }), \"\\n            \"), \"\\n        \"), \"\\n    \"), \"\\n\\n    \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"currentUser\"));\n  }, function() {\n    return [ \"\\n        \", HTML.DIV({\n      \"class\": \"quiz\"\n    }, \"\\n            \", Blaze.Each(function() {\n      return Spacebars.call(view.lookup(\"quizs\"));\n    }, function() {\n      return [ \" \", Spacebars.include(view.lookupTemplate(\"quiz\")), \" \" ];\n    }), \"\\n        \"), \"\\n    \" ];\n  }) ];\n}));\nMeteor.startup(Template.body.renderToDocument);\n","\nTemplate.__checkName(\"login\");\nTemplate[\"login\"] = new Template(\"Template.login\", (function() {\n  var view = this;\n  return Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"currentUser\"));\n  }, function() {\n    return [ \"\\n        \", Blaze.View(\"lookup:currentUser.services.facebook.name\", function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"currentUser\"), \"services\", \"facebook\", \"name\"));\n    }), \" -\\n        \", Blaze.View(\"lookup:currentUser.services.facebook.gender\", function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"currentUser\"), \"services\", \"facebook\", \"gender\"));\n    }), \"\\n        \", HTML.BUTTON({\n      id: \"logout\",\n      \"class\": \"btn btn-lg btn-primary btn-danger\"\n    }, \"Logout\"), \"\\n    \" ];\n  }, function() {\n    return [ \"\\n        \", HTML.BUTTON({\n      id: \"facebook-login\",\n      \"class\": \"btn btn-lg btn-primary btn-block\"\n    }, \" Login with Facebook\"), \"\\n    \" ];\n  });\n}));\n","Template.body.helpers({\r\n    quizs: function () {\r\n        return Quiz.find();\r\n    }\r\n});\r\n\r\n// Add an index to each item\r\nUI.registerHelper('indexedArray', function (context, options) {\r\n    if (context) {\r\n        return context.map(function (item, index) {\r\n            item._index = index;\r\n            return item;\r\n        });\r\n    }\r\n});\r\n\r\n","Template.login.events({\r\n    'click #facebook-login': function (event) {\r\n        Meteor.loginWithFacebook({}, function (err) {\r\n            if (err) {\r\n                throw new Meteor.Error(\"Login with Facebook failed\");\r\n            }\r\n        });\r\n    },\r\n\r\n    'click #logout': function (event) {\r\n        Meteor.logout(function (err) {\r\n            if (err) {\r\n                throw new Meteor.Error(\"Logout failed\");\r\n            }\r\n        })\r\n    }\r\n});","Quiz = new Mongo.Collection('quiz');"]}