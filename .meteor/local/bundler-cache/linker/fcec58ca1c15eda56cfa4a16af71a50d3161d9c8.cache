[{"type":"js","data":"/* Imports for global scope */\n\nMongo = Package.mongo.Mongo;\nReactiveVar = Package['reactive-var'].ReactiveVar;\n$ = Package.jquery.$;\njQuery = Package.jquery.jQuery;\nTracker = Package.tracker.Tracker;\nDeps = Package.tracker.Deps;\nServiceConfiguration = Package['service-configuration'].ServiceConfiguration;\nMeteor = Package.meteor.Meteor;\nglobal = Package.meteor.global;\nmeteorEnv = Package.meteor.meteorEnv;\nWebApp = Package.webapp.WebApp;\n_ = Package.underscore._;\nDDP = Package['ddp-client'].DDP;\nLaunchScreen = Package['launch-screen'].LaunchScreen;\nBlaze = Package.ui.Blaze;\nUI = Package.ui.UI;\nHandlebars = Package.ui.Handlebars;\nSpacebars = Package.spacebars.Spacebars;\nTemplate = Package.templating.Template;\nmeteorInstall = Package.modules.meteorInstall;\nBuffer = Package.modules.Buffer;\nprocess = Package.modules.process;\nSymbol = Package['ecmascript-runtime'].Symbol;\nMap = Package['ecmascript-runtime'].Map;\nSet = Package['ecmascript-runtime'].Set;\nmeteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;\nPromise = Package.promise.Promise;\nAccounts = Package['accounts-base'].Accounts;\nAutoupdate = Package.autoupdate.Autoupdate;\nReload = Package.reload.Reload;\nHTML = Package.htmljs.HTML;\n\n","servePath":"/packages/global-imports.js"},{"type":"js","data":"var require = meteorInstall({\"client\":{\"components\":{\"template.quiz-kynou-form.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                 //\n// client/components/template.quiz-kynou-form.js                                                                   //\n//                                                                                                                 //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                   //\n                                                                                                                   // 1\nTemplate.__checkName(\"formQuiz\");                                                                                  // 2\nTemplate[\"formQuiz\"] = new Template(\"Template.formQuiz\", (function() {                                             // 3\n  var view = this;                                                                                                 // 4\n  return HTML.Raw('<form>\\n        <div class=\"question-group\">\\n            <label>Question</label>\\n            <input type=\"text\" name=\"question\" class=\"form-control\" placeholder=\"Your Question\">\\n        </div>\\n\\n        <div class=\"form-group\">\\n            <label>Option #1</label>\\n            <input type=\"text\" name=\"option1\" class=\"form-control\" placeholder=\"Option #1\">\\n        </div>\\n        <div class=\"form-group\">\\n            <label>Option #2</label>\\n            <input type=\"text\" name=\"option2\" class=\"form-control\" placeholder=\"Option #2\">\\n        </div>\\n        <div class=\"form-group\">\\n            <label>Option #3</label>\\n            <input type=\"text\" name=\"option3\" class=\"form-control\" placeholder=\"Option #3\">\\n        </div>\\n\\n        <button type=\"submit\" class=\"btn btn-lg btn-primary btn-block\">Create Quiz</button>\\n    </form>');\n}));                                                                                                               // 6\n                                                                                                                   // 7\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.quiz-kynou.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                 //\n// client/components/template.quiz-kynou.js                                                                        //\n//                                                                                                                 //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                   //\n                                                                                                                   // 1\nTemplate.__checkName(\"quiz\");                                                                                      // 2\nTemplate[\"quiz\"] = new Template(\"Template.quiz\", (function() {                                                     // 3\n  var view = this;                                                                                                 // 4\n  return HTML.DIV({                                                                                                // 5\n    \"class\": \"quiz well well-lg\",                                                                                  // 6\n    \"data-id\": function() {                                                                                        // 7\n      return Spacebars.mustache(view.lookup(\"_id\"));                                                               // 8\n    }                                                                                                              // 9\n  }, \"\\n\\n        \", HTML.H3(Blaze.View(\"lookup:question\", function() {                                            // 10\n    return Spacebars.mustache(view.lookup(\"question\"));                                                            // 11\n  })), \"\\n\\n        \", Blaze.Each(function() {                                                                     // 12\n    return Spacebars.dataMustache(view.lookup(\"indexedArray\"), view.lookup(\"options\"));                            // 13\n  }, function() {                                                                                                  // 14\n    return [ \"\\n        \", HTML.A({                                                                                // 15\n      href: \"#\",                                                                                                   // 16\n      \"class\": \"vote btn btn-primary btn-block\",                                                                   // 17\n      \"data-id\": function() {                                                                                      // 18\n        return Spacebars.mustache(view.lookup(\"_index\"));                                                          // 19\n      }                                                                                                            // 20\n    }, \"\\n            \", HTML.SPAN({                                                                               // 21\n      \"class\": \"votes pull-right\"                                                                                  // 22\n    }, Blaze.View(\"lookup:votes\", function() {                                                                     // 23\n      return Spacebars.mustache(view.lookup(\"votes\"));                                                             // 24\n    })), \"\\n            \", HTML.SPAN({                                                                             // 25\n      \"class\": \"text\"                                                                                              // 26\n    }, Blaze.View(\"lookup:text\", function() {                                                                      // 27\n      return Spacebars.mustache(view.lookup(\"text\"));                                                              // 28\n    })), \"\\n        \"), \"\\n        \" ];                                                                            // 29\n  }), \"\\n    \");                                                                                                   // 30\n}));                                                                                                               // 31\n                                                                                                                   // 32\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"quiz-kynou-form.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                 //\n// client/components/quiz-kynou-form.js                                                                            //\n//                                                                                                                 //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                   //\nTemplate.formQuiz.events({                                                                                         // 1\n    // executed when form is submitted                                                                             //\n    'submit form': function () {                                                                                   // 3\n        function submitForm(event) {                                                                               // 3\n                                                                                                                   //\n            // Prevent multiple submits                                                                            //\n            event.preventDefault();                                                                                // 6\n                                                                                                                   //\n            // Retrieve data from the form                                                                         //\n            var newQuiz = {                                                                                        // 9\n                question: event.target.question.value,                                                             // 10\n                options: [{ text: event.target.option1.value, votes: 0 }, { text: event.target.option2.value, votes: 0 }, { text: event.target.option3.value, votes: 0 }]\n            };                                                                                                     // 9\n                                                                                                                   //\n            // Creates a new quiz                                                                                  //\n            Quiz.insert(newQuiz);                                                                                  // 19\n        }                                                                                                          // 20\n                                                                                                                   //\n        return submitForm;                                                                                         // 3\n    }()                                                                                                            // 3\n});                                                                                                                // 1\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"quiz-kynou.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                 //\n// client/components/quiz-kynou.js                                                                                 //\n//                                                                                                                 //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                   //\nTemplate.quiz.events({                                                                                             // 1\n        // click event handler                                                                                     //\n        'click .vote': function () {                                                                               // 3\n                function clickVote(event) {                                                                        // 3\n                                                                                                                   //\n                        // prevent multiple clicks                                                                 //\n                        event.preventDefault();                                                                    // 6\n                                                                                                                   //\n                        // retrieve id of parent quiz                                                              //\n                        var idQuiz = $(event.currentTarget).parent('.quiz').data('id');                            // 9\n                        var idVote = $(event.currentTarget).data('id');                                            // 10\n                                                                                                                   //\n                        var voteString = 'options.' + idVote + '.votes';                                           // 12\n                        var action = {};                                                                           // 13\n                        action[voteString] = 1;                                                                    // 14\n                                                                                                                   //\n                        // increment vote counter                                                                  //\n                        Quiz.update({ _id: idQuiz }, { $inc: action });                                            // 17\n                }                                                                                                  // 21\n                                                                                                                   //\n                return clickVote;                                                                                  // 3\n        }()                                                                                                        // 3\n});                                                                                                                // 1\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"template.app.body.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                 //\n// client/template.app.body.js                                                                                     //\n//                                                                                                                 //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                   //\n                                                                                                                   // 1\nTemplate.body.addContent((function() {                                                                             // 2\n  var view = this;                                                                                                 // 3\n  return [ HTML.DIV({                                                                                              // 4\n    \"class\": \"container\"                                                                                           // 5\n  }, \"\\n        \", HTML.DIV({                                                                                      // 6\n    \"class\": \"row\"                                                                                                 // 7\n  }, \"\\n            \", HTML.DIV({                                                                                  // 8\n    \"class\": \"col-md-6 col-md-offset-3\"                                                                            // 9\n  }, \"\\n                \", Spacebars.include(view.lookupTemplate(\"login\")), \"\\n                \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"currentUser\"));                                                             // 11\n  }, function() {                                                                                                  // 12\n    return [ \"\\n                    \", Spacebars.include(view.lookupTemplate(\"formQuiz\")), \"\\n                \" ];\n  }), \"\\n            \"), \"\\n        \"), \"\\n    \"), \"\\n\\n    \", Blaze.If(function() {                               // 14\n    return Spacebars.call(view.lookup(\"currentUser\"));                                                             // 15\n  }, function() {                                                                                                  // 16\n    return [ \"\\n        \", HTML.DIV({                                                                              // 17\n      \"class\": \"quiz\"                                                                                              // 18\n    }, \"\\n            \", Blaze.Each(function() {                                                                   // 19\n      return Spacebars.call(view.lookup(\"quizs\"));                                                                 // 20\n    }, function() {                                                                                                // 21\n      return [ \" \", Spacebars.include(view.lookupTemplate(\"quiz\")), \" \" ];                                         // 22\n    }), \"\\n        \"), \"\\n    \" ];                                                                                 // 23\n  }) ];                                                                                                            // 24\n}));                                                                                                               // 25\nMeteor.startup(Template.body.renderToDocument);                                                                    // 26\n                                                                                                                   // 27\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.login.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                 //\n// client/template.login.js                                                                                        //\n//                                                                                                                 //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                   //\n                                                                                                                   // 1\nTemplate.__checkName(\"login\");                                                                                     // 2\nTemplate[\"login\"] = new Template(\"Template.login\", (function() {                                                   // 3\n  var view = this;                                                                                                 // 4\n  return Blaze.If(function() {                                                                                     // 5\n    return Spacebars.call(view.lookup(\"currentUser\"));                                                             // 6\n  }, function() {                                                                                                  // 7\n    return [ \"\\n        \", Blaze.View(\"lookup:currentUser.services.facebook.name\", function() {                    // 8\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"currentUser\"), \"services\", \"facebook\", \"name\"));        // 9\n    }), \" -\\n        \", Blaze.View(\"lookup:currentUser.services.facebook.gender\", function() {                     // 10\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"currentUser\"), \"services\", \"facebook\", \"gender\"));      // 11\n    }), \"\\n        \", HTML.BUTTON({                                                                                // 12\n      id: \"logout\",                                                                                                // 13\n      \"class\": \"btn btn-lg btn-primary btn-danger\"                                                                 // 14\n    }, \"Logout\"), \"\\n    \" ];                                                                                      // 15\n  }, function() {                                                                                                  // 16\n    return [ \"\\n        \", HTML.BUTTON({                                                                           // 17\n      id: \"facebook-login\",                                                                                        // 18\n      \"class\": \"btn btn-lg btn-primary btn-block\"                                                                  // 19\n    }, \" Login with Facebook\"), \"\\n    \" ];                                                                        // 20\n  });                                                                                                              // 21\n}));                                                                                                               // 22\n                                                                                                                   // 23\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"app.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                 //\n// client/app.js                                                                                                   //\n//                                                                                                                 //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                   //\nTemplate.body.helpers({                                                                                            // 1\n    quizs: function () {                                                                                           // 2\n        function quizs() {                                                                                         // 2\n            return Quiz.find();                                                                                    // 3\n        }                                                                                                          // 4\n                                                                                                                   //\n        return quizs;                                                                                              // 2\n    }()                                                                                                            // 2\n});                                                                                                                // 1\n                                                                                                                   //\n// Add an index to each item                                                                                       //\nUI.registerHelper('indexedArray', function (context, options) {                                                    // 8\n    if (context) {                                                                                                 // 9\n        return context.map(function (item, index) {                                                                // 10\n            item._index = index;                                                                                   // 11\n            return item;                                                                                           // 12\n        });                                                                                                        // 13\n    }                                                                                                              // 14\n});                                                                                                                // 15\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"login.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                 //\n// client/login.js                                                                                                 //\n//                                                                                                                 //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                   //\nTemplate.login.events({                                                                                            // 1\n    'click #facebook-login': function () {                                                                         // 2\n        function clickFacebookLogin(event) {                                                                       // 2\n            Meteor.loginWithFacebook({}, function (err) {                                                          // 3\n                if (err) {                                                                                         // 4\n                    throw new Meteor.Error(\"Login with Facebook failed\");                                          // 5\n                }                                                                                                  // 6\n            });                                                                                                    // 7\n        }                                                                                                          // 8\n                                                                                                                   //\n        return clickFacebookLogin;                                                                                 // 2\n    }(),                                                                                                           // 2\n                                                                                                                   //\n    'click #logout': function () {                                                                                 // 10\n        function clickLogout(event) {                                                                              // 10\n            Meteor.logout(function (err) {                                                                         // 11\n                if (err) {                                                                                         // 12\n                    throw new Meteor.Error(\"Logout failed\");                                                       // 13\n                }                                                                                                  // 14\n            });                                                                                                    // 15\n        }                                                                                                          // 16\n                                                                                                                   //\n        return clickLogout;                                                                                        // 10\n    }()                                                                                                            // 10\n});                                                                                                                // 1\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"collections\":{\"quiz.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                 //\n// collections/quiz.js                                                                                             //\n//                                                                                                                 //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                   //\nQuiz = new Mongo.Collection('quiz');                                                                               // 1\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},{\"extensions\":[\".js\",\".json\",\".html\",\".css\"]});\nrequire(\"./client/components/template.quiz-kynou-form.js\");\nrequire(\"./client/components/template.quiz-kynou.js\");\nrequire(\"./client/template.app.body.js\");\nrequire(\"./client/template.login.js\");\nrequire(\"./client/components/quiz-kynou-form.js\");\nrequire(\"./client/components/quiz-kynou.js\");\nrequire(\"./client/app.js\");\nrequire(\"./client/login.js\");\nrequire(\"./collections/quiz.js\");","servePath":"/app.js","sourceMap":{"version":3,"sources":["/client/components/template.quiz-kynou-form.js","/client/components/template.quiz-kynou.js","/client/components/quiz-kynou-form.js","/client/components/quiz-kynou.js","/client/template.app.body.js","/client/template.login.js","/client/app.js","/client/login.js","/collections/quiz.js"],"names":[],"mappings":"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","file":"/app.js","sourcesContent":["\nTemplate.__checkName(\"formQuiz\");\nTemplate[\"formQuiz\"] = new Template(\"Template.formQuiz\", (function() {\n  var view = this;\n  return HTML.Raw('<form>\\n        <div class=\"question-group\">\\n            <label>Question</label>\\n            <input type=\"text\" name=\"question\" class=\"form-control\" placeholder=\"Your Question\">\\n        </div>\\n\\n        <div class=\"form-group\">\\n            <label>Option #1</label>\\n            <input type=\"text\" name=\"option1\" class=\"form-control\" placeholder=\"Option #1\">\\n        </div>\\n        <div class=\"form-group\">\\n            <label>Option #2</label>\\n            <input type=\"text\" name=\"option2\" class=\"form-control\" placeholder=\"Option #2\">\\n        </div>\\n        <div class=\"form-group\">\\n            <label>Option #3</label>\\n            <input type=\"text\" name=\"option3\" class=\"form-control\" placeholder=\"Option #3\">\\n        </div>\\n\\n        <button type=\"submit\" class=\"btn btn-lg btn-primary btn-block\">Create Quiz</button>\\n    </form>');\n}));\n","\nTemplate.__checkName(\"quiz\");\nTemplate[\"quiz\"] = new Template(\"Template.quiz\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": \"quiz well well-lg\",\n    \"data-id\": function() {\n      return Spacebars.mustache(view.lookup(\"_id\"));\n    }\n  }, \"\\n\\n        \", HTML.H3(Blaze.View(\"lookup:question\", function() {\n    return Spacebars.mustache(view.lookup(\"question\"));\n  })), \"\\n\\n        \", Blaze.Each(function() {\n    return Spacebars.dataMustache(view.lookup(\"indexedArray\"), view.lookup(\"options\"));\n  }, function() {\n    return [ \"\\n        \", HTML.A({\n      href: \"#\",\n      \"class\": \"vote btn btn-primary btn-block\",\n      \"data-id\": function() {\n        return Spacebars.mustache(view.lookup(\"_index\"));\n      }\n    }, \"\\n            \", HTML.SPAN({\n      \"class\": \"votes pull-right\"\n    }, Blaze.View(\"lookup:votes\", function() {\n      return Spacebars.mustache(view.lookup(\"votes\"));\n    })), \"\\n            \", HTML.SPAN({\n      \"class\": \"text\"\n    }, Blaze.View(\"lookup:text\", function() {\n      return Spacebars.mustache(view.lookup(\"text\"));\n    })), \"\\n        \"), \"\\n        \" ];\n  }), \"\\n    \");\n}));\n","Template.formQuiz.events({\r\n    // executed when form is submitted\r\n    'submit form': function (event) {\r\n\r\n        // Prevent multiple submits\r\n        event.preventDefault();\r\n\r\n        // Retrieve data from the form\r\n        var newQuiz = {\r\n            question: event.target.question.value,\r\n            options: [\r\n                { text: event.target.option1.value, votes: 0 },\r\n                { text: event.target.option2.value, votes: 0 },\r\n                { text: event.target.option3.value, votes: 0 }\r\n            ]\r\n        };\r\n\r\n        // Creates a new quiz\r\n        Quiz.insert(newQuiz);\r\n    }\r\n});","Template.quiz.events({\r\n    // click event handler\r\n    'click .vote': function (event) {\r\n\r\n        // prevent multiple clicks\r\n        event.preventDefault();\r\n\r\n        // retrieve id of parent quiz\r\n        var idQuiz = $(event.currentTarget).parent('.quiz').data('id');\r\n        var idVote = $(event.currentTarget).data('id');\r\n\r\n        var voteString = 'options.' + idVote + '.votes';\r\n        var action = {};\r\n        action[voteString] = 1;\r\n\r\n        // increment vote counter\r\n        Quiz.update(\r\n            { _id: idQuiz },\r\n            { $inc: action }\r\n        );\r\n    }\r\n});","\nTemplate.body.addContent((function() {\n  var view = this;\n  return [ HTML.DIV({\n    \"class\": \"container\"\n  }, \"\\n        \", HTML.DIV({\n    \"class\": \"row\"\n  }, \"\\n            \", HTML.DIV({\n    \"class\": \"col-md-6 col-md-offset-3\"\n  }, \"\\n                \", Spacebars.include(view.lookupTemplate(\"login\")), \"\\n                \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"currentUser\"));\n  }, function() {\n    return [ \"\\n                    \", Spacebars.include(view.lookupTemplate(\"formQuiz\")), \"\\n                \" ];\n  }), \"\\n            \"), \"\\n        \"), \"\\n    \"), \"\\n\\n    \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"currentUser\"));\n  }, function() {\n    return [ \"\\n        \", HTML.DIV({\n      \"class\": \"quiz\"\n    }, \"\\n            \", Blaze.Each(function() {\n      return Spacebars.call(view.lookup(\"quizs\"));\n    }, function() {\n      return [ \" \", Spacebars.include(view.lookupTemplate(\"quiz\")), \" \" ];\n    }), \"\\n        \"), \"\\n    \" ];\n  }) ];\n}));\nMeteor.startup(Template.body.renderToDocument);\n","\nTemplate.__checkName(\"login\");\nTemplate[\"login\"] = new Template(\"Template.login\", (function() {\n  var view = this;\n  return Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"currentUser\"));\n  }, function() {\n    return [ \"\\n        \", Blaze.View(\"lookup:currentUser.services.facebook.name\", function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"currentUser\"), \"services\", \"facebook\", \"name\"));\n    }), \" -\\n        \", Blaze.View(\"lookup:currentUser.services.facebook.gender\", function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"currentUser\"), \"services\", \"facebook\", \"gender\"));\n    }), \"\\n        \", HTML.BUTTON({\n      id: \"logout\",\n      \"class\": \"btn btn-lg btn-primary btn-danger\"\n    }, \"Logout\"), \"\\n    \" ];\n  }, function() {\n    return [ \"\\n        \", HTML.BUTTON({\n      id: \"facebook-login\",\n      \"class\": \"btn btn-lg btn-primary btn-block\"\n    }, \" Login with Facebook\"), \"\\n    \" ];\n  });\n}));\n","Template.body.helpers({\r\n    quizs: function () {\r\n        return Quiz.find();\r\n    }\r\n});\r\n\r\n// Add an index to each item\r\nUI.registerHelper('indexedArray', function (context, options) {\r\n    if (context) {\r\n        return context.map(function (item, index) {\r\n            item._index = index;\r\n            return item;\r\n        });\r\n    }\r\n});\r\n\r\n","Template.login.events({\r\n    'click #facebook-login': function (event) {\r\n        Meteor.loginWithFacebook({}, function (err) {\r\n            if (err) {\r\n                throw new Meteor.Error(\"Login with Facebook failed\");\r\n            }\r\n        });\r\n    },\r\n\r\n    'click #logout': function (event) {\r\n        Meteor.logout(function (err) {\r\n            if (err) {\r\n                throw new Meteor.Error(\"Logout failed\");\r\n            }\r\n        })\r\n    }\r\n});","Quiz = new Mongo.Collection('quiz');"]}}]